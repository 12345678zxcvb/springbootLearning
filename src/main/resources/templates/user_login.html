<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>学生管理系统登陆界面</title>
    <div th:replace="header::common"></div>
    <link rel="stylesheet" href="css/login.css" th:href="@{/static/css/login.css}" media="all"/>
    <style>
        /* 覆盖原框架样式 */
        .layui-elem-quote{background-color: inherit!important;}
        .layui-input, .layui-select, .layui-textarea{background-color: inherit; padding-left: 30px;}
    </style>
</head>
<body>
<!-- Head -->
<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-sm12 layui-col-md12 zyl_mar_01">
            <blockquote class="layui-elem-quote">学生管理系统后台登陆界面</blockquote>
        </div>
    </div>
</div>
<!-- Head End -->

<!-- Carousel -->
<div class="layui-row">
    <div class="layui-col-sm12 layui-col-md12">
        <div class="layui-carousel zyl_login_height" id="zyllogin" lay-filter="zyllogin">
            <div carousel-item="">
                <div>
                    <div class="zyl_login_cont"></div>
                </div>
                <div>
                    <img src="/static/images/01.jpg" th:src="@{/static/images/01.jpg}"/>
                </div>
                <div>
                    <div class="background">
                        <span></span><span></span><span></span>
                        <span></span><span></span><span></span>
                        <span></span><span></span><span></span>
                        <span></span><span></span><span></span>
                    </div>
                </div>
                <div>
                    <img src="/images/03.jpg" th:src="@{/static/images/03.jpg}"/>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Carousel End -->

<!-- Footer -->
<div class="layui-row">
    <div class="layui-col-sm12 layui-col-md12 zyl_center zyl_mar_01">
        © 2019 - luojay学生管理系统登陆登陆界面版权所有
    </div>
</div>
<!-- Footer End -->



<!-- LoginForm -->
<div class="zyl_lofo_main">
    <fieldset class="layui-elem-field layui-field-title zyl_mar_02">
        <legend>欢迎登陆学生管理系统</legend>
    </fieldset>
    <div class="layui-row layui-col-space15">
        <form id="formId" class="layui-form zyl_pad_01"  method="post">
            <div class="layui-col-sm12 layui-col-md12">
                <div class="layui-form-item">
                    <input type="text" name="name" lay-verify="required|username" autocomplete="off" placeholder="用户名"   class="layui-input">
                    <i class="layui-icon layui-icon-username zyl_lofo_icon"></i>
                </div>
            </div>
            <div class="layui-col-sm12 layui-col-md12">
                <div class="layui-form-item">
                    <input type="password" name="password" lay-verify="required|pass" autocomplete="off" placeholder="密码" class="layui-input">
                    <i class="layui-icon layui-icon-password zyl_lofo_icon"></i>
                </div>
            </div>
            <div class="layui-col-sm12 layui-col-md12">
                <input class="layui-btn layui-btn-fluid" type="button" onclick="submitForm()" value="立即登录"></input>
            </div>
            <span th:text="${msg}"></span>
        </form>
    </div>
</div>
<!-- LoginForm End -->


<script type="text/javascript"  th:src="@{/static/js/jparticle.min.js}"></script>
<!-- ZylVerificationCode Js-->
<script type="text/javascript"  th:src="@{/static/js/zylVerificationCode.js}"></script>
<script>
    function submitForm() {
        //ajax异步提交表单数据
        $.post(
            '/user/login',
            $('#formId').serialize(), //{'name':'zhangsan','password':'123','code':'3sdi'}
            function (result) {
                //回调函数，后台/user/add处理完了之后，会自动调这个回调函数，
                //result代表后台返回给前台的数据
                console.log(result);
                //{code: 0, msg: '登录成功', data: null, ok: true}
                if (result.ok) {

                    mylayer.okUrl(result.msg, '/');
                } else {
                    mylayer.errorMsg(result.msg);
                }
            },
            'json'
        );
    }




</script>
</body>
</html>